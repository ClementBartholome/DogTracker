@inherits LayoutComponentBase
@rendermode InteractiveServer


@* <div class="sidebar"> *@
@*     <NavMenu/> *@
@* </div> *@

<main>
    @* Required *@
    <MudThemeProvider/>
    <MudPopoverProvider/>

    @* Needed for dialogs *@
    <MudDialogProvider/>

    @* Needed for snackbars *@
    <MudSnackbarProvider/>

    <MudLayout>
        <MudAppBar Elevation="1">
            <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start"
                           OnClick="@DrawerToggle"/>
            <MudText Typo="Typo.h6">BlazorApp</MudText>
            <MudSpacer/>
        </MudAppBar>

        <MudDrawerContainer>
            <MudDrawer @bind-Open="_drawerOpen" Elevation="2" class="vh-100">
                <MudDrawerHeader>
                    <MudText Typo="Typo.h6">BlazorApp</MudText>
                </MudDrawerHeader>
                <NavMenu/>
            </MudDrawer>
        </MudDrawerContainer>

        <MudMainContent>
            <MudContainer MaxWidth="MaxWidth.Large" Class="my-4">
                @Body
            </MudContainer>
        </MudMainContent>
    </MudLayout>
</main>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>

@code {
    private bool _drawerOpen;

    void DrawerToggle()
    {
        Console.WriteLine("Drawer toggled");
        _drawerOpen = !_drawerOpen;
    }

}